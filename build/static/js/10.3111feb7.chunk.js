(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[10],{1985:function(e,t,c){e.exports={message:"Message_message__2KepB",message__body:"Message_message__body__2GTia",myMessage:"Message_myMessage__14GNs",message__image:"Message_message__image__2O8yZ",message__content:"Message_message__content__Q_mXZ",myMessageContent:"Message_myMessageContent__U1qdX"}},2004:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(130),o=c(1994),r=c(1985),i=c.n(r),u=c(1970),l=c(51),j=c(72),d=c(71),b=c(9),g=s.a.memo((function(e){var t=e.userId,c=e.message,n=e.userName,s=e.photo,a=e.withData;console.log(a);var r=Object(l.d)(j.c);return Object(b.jsx)("div",{className:i.a.message,children:Object(b.jsxs)("div",{className:"".concat(i.a.message__body," ").concat(r===t?i.a.myMessage:""),children:[Object(b.jsx)("div",{className:i.a.message__image,children:r!==t&&a&&Object(b.jsx)(d.b,{to:"/profile/".concat(t),children:s?Object(b.jsx)("img",{src:s,alt:"photo"}):Object(b.jsx)(u.a,{style:{backgroundColor:"#87d068"},icon:Object(b.jsx)(o.a,{})})})}),Object(b.jsxs)("div",{className:"".concat(i.a.message__content," ").concat(r===t?i.a.myMessageContent:""),children:[r!==t&&a&&Object(b.jsx)("h5",{children:Object(b.jsx)(d.b,{to:"profile/".concat(t),children:n})}),Object(b.jsx)("p",{children:c})]})]})})})),m=function(e){return e.chat.messages},O=function(e){return e.chat.isFetching},f=c(1986),h=c.n(f),v=c(1943),x=c(1955),_=c(180),p=c(157),y=c(1987),M=c.n(y),k=c(2014),C=function(){var e=Object(n.useState)(""),t=Object(a.a)(e,2),c=t[0],s=t[1],o=Object(l.c)(),r=Object(l.d)(O),i=Object(n.useState)(!1),u=Object(a.a)(i,2),j=u[0],d=u[1],g=Object(n.useState)(null),m=Object(a.a)(g,2),f=m[0],h=m[1];return Object(n.useEffect)((function(){f&&s((function(e){return"".concat(e).concat(f.emoji)}))}),[f]),Object(b.jsx)("div",{style:{maxWidth:"500px"},children:Object(b.jsx)("div",{style:{display:"flex"},children:Object(b.jsx)(v.a,{maxLength:100,prefix:Object(b.jsx)(x.a,{content:Object(b.jsx)(M.a,{onEmojiClick:function(e,t){h(t),d(!1)}}),visible:j,onVisibleChange:function(e){d(e)},trigger:"click",children:Object(b.jsx)("div",{style:{width:30,cursor:"pointer",height:30,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",border:"1px solid #000"},children:Object(b.jsx)(k.a,{})})}),suffix:Object(b.jsx)(_.a,{style:{alignSelf:"center",cursor:"pointer",marginBottom:"5px"},disabled:!r,onClick:function(){(null===c||void 0===c?void 0:c.trim())&&(o(Object(p.b)(c)),s(""))},children:"send"}),onChange:function(e){return s(e.currentTarget.value)},value:c,style:{marginBottom:"5px",maxWidth:"500px",marginRight:10}})})})},w=function(){var e,t,c=Object(l.d)(m),s=Object(n.useRef)(null),o=Object(n.useState)(!1),r=Object(a.a)(o,2),i=r[0],u=r[1],j=Object(n.useRef)(null),d=Object(n.useRef)(null),O=Object(n.useState)(!0),f=Object(a.a)(O,2),v=f[0],x=f[1];/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)?null===d||void 0===d||null===(e=d.current)||void 0===e||e.remove():null===j||void 0===j||null===(t=j.current)||void 0===t||t.remove();Object(n.useEffect)((function(){var e;null===s||void 0===s||null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),[]);var _=Object(n.useRef)(0);return Object(n.useEffect)((function(){_.current++,_.current>=4&&u(!0)}),[c]),Object(n.useEffect)((function(){var e;v&&(null===s||void 0===s||null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}))}),[c]),Object(b.jsxs)("div",{onScroll:function(e){var t=e.currentTarget;Math.round(t.scrollHeight-t.scrollTop)===t.clientHeight?x(!0):x(!1)},style:{maxHeight:"400px",overflowY:"auto",background:"#2e2e2e",padding:"15px",margin:"0 15px"},children:[null===c||void 0===c?void 0:c.map((function(e,t,c){var n;return Object(b.jsx)(g,{userId:e.userId,userName:e.userName,photo:e.photo,withData:(null===(n=c[t-1])||void 0===n?void 0:n.userId)!==e.userId,message:e.message},e.id)})),i&&Object(b.jsx)(h.a,{src:"https://audiokaif.ru/wp-content/uploads/2019/04/2-\u0417\u0432\u0443\u043a-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f-\u0442\u0435\u043b\u0435\u0433\u0440\u0430\u043c\u043c.mp3",onEnded:function(){return u(!1)},autoPlay:!0}),Object(b.jsx)("div",{ref:s,children:" "}),Object(b.jsx)(C,{})]})};t.default=function(){var e=Object(l.c)();return Object(n.useEffect)((function(){return e(Object(p.c)()),function(){e(Object(p.d)())}}),[]),Object(b.jsx)(w,{})}}}]);
//# sourceMappingURL=10.3111feb7.chunk.js.map