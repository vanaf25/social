(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{142:function(e,t,n){e.exports={dialogsWrapper:"News_dialogsWrapper__o4lmB",dialogs__content:"News_dialogs__content__12H-L"}},143:function(e,t,n){e.exports={dialogsWrapper:"Setting_dialogsWrapper__3kOwe",dialogs__content:"Setting_dialogs__content__1wzIw"}},144:function(e,t,n){e.exports={dialogsWrapper:"Music_dialogsWrapper__2aRrf",dialogs__content:"Music_dialogs__content__1Kgl6"}},150:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"g",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return _}));var r=n(15),a=n.n(r),c=n(28),s=n(40),o=n(7),i=n(16),u=function(e){return i.c.get("profile/".concat(e)).then((function(e){return e.data}))},l=function(e){return i.c.get("profile/status/".concat(e)).then((function(e){return e.data}))},d=function(e){return i.c.put("profile/status/",{status:e}).then((function(e){return e.data}))},f=function(e){var t=new FormData;return t.append("image",e),i.c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},p=function(e){return i.c.put("/profile",e).then((function(e){return e.data}))},g=n(139),j={postsData:[],profile:null,status:null},b={deletePostActionCreator:function(e){return{type:"profile/deletePost",postId:e}},userProfileCreator:function(e){return{type:"profile/userProfile",profile:e}},setStatusActionCreator:function(e){return{type:"profile/setStatus",status:e}},addPostActionCreator:function(e){return{type:"profile/AddPost",newPostText:e}},likePost:function(e){return{type:"SN/PROFILE/LIKE_POST",postId:e}},disLikePost:function(e){return{type:"SN/PROFILE/DISLIKE_POST",postId:e}},savePhotoSuccessActionCreator:function(e){return{type:"profile/changePhoto",photos:e}},addComment:function(e,t){return{type:"profile/ADD_COMMENT",postId:e,comment:t}},deleteComment:function(e,t){return{type:"profile/DELETE_COMMENT",postId:e,commentId:t}},changeComment:function(e,t,n){return{type:"profile/CHANGE_COMMENT",postId:e,commentId:t,commentText:n}}},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:r=t.sent,n(b.userProfileCreator(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(e);case 2:r=t.sent,n(b.setStatusActionCreator(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d(e);case 3:t.sent.resultCode===i.a.Success&&n(b.setStatusActionCreator(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f(e);case 2:(r=t.sent).resultCode===i.a.Success&&n(b.savePhotoSuccessActionCreator(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},_=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,s,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.id,t.next=3,p(e);case 3:if((s=t.sent).resultCode!==i.a.Success){t.next=12;break}if(!c){t.next=9;break}n(h(c)),t.next=10;break;case 9:throw new Error("Id cannot be null");case 10:t.next=15;break;case 12:return o=s.messages.length>0?s.messages[0]:"Some error",n(Object(g.a)("edit-profile",{_error:o})),t.abrupt("return",Promise.reject(o));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"profile/AddPost":var n=e.postsData.length,r={id:n++,text:t.newPostText,likesCount:0,disLikesCount:0,comments:[{id:0,body:"qwerty",logo:null,author:"vanaf"}]};return Object(o.a)(Object(o.a)({},e),{},{postsData:[].concat(Object(s.a)(e.postsData),[r])});case"profile/userProfile":return Object(o.a)(Object(o.a)({},e),{},{profile:t.profile});case"profile/setStatus":return Object(o.a)(Object(o.a)({},e),{},{status:t.status});case"profile/deletePost":return e.postsData.splice(t.postId,1),Object(o.a)(Object(o.a)({},e),{},{postsData:Object(s.a)(e.postsData)});case"profile/changePhoto":return Object(o.a)(Object(o.a)({},e),{},{profile:Object(o.a)(Object(o.a)({},e.profile),{},{photos:t.photos})});case"SN/PROFILE/LIKE_POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id===t.postId?Object(o.a)(Object(o.a)({},e),{},{likesCount:++e.likesCount}):e}))});case"SN/PROFILE/DISLIKE_POST":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id===t.postId?Object(o.a)(Object(o.a)({},e),{},{disLikesCount:++e.disLikesCount}):e}))});case"profile/ADD_COMMENT":var a,c=null===(a=e.postsData[t.postId].comments)||void 0===a?void 0:a.length;return t.comment.id=c,Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id===t.postId?Object(o.a)(Object(o.a)({},e),{},{comments:[].concat(Object(s.a)(e.comments),[t.comment])}):e}))});case"profile/DELETE_COMMENT":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id===t.postId?Object(o.a)(Object(o.a)({},e),{},{comments:e.comments.filter((function(e){return e.id!==t.commentId}))}):e}))});case"profile/CHANGE_COMMENT":return Object(o.a)(Object(o.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id===t.postId?Object(o.a)(Object(o.a)({},e),{},{comments:e.comments.map((function(e){return e.id===t.commentId?Object(o.a)(Object(o.a)({},e),{},{body:t.commentText}):e}))}):e}))});default:return e}}},151:function(e,t,n){"use strict";n(0);var r=n(156),a=n(1931),c=n(9);t.a=function(e){var t=e.fontSize,n=Object(c.jsx)(r.LoadingOutlined,{style:{fontSize:t},spin:!0});return Object(c.jsx)(a.a,{indicator:n})}},155:function(e,t,n){"use strict";n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return g}));var r=n(15),a=n.n(r),c=n(28),s=n(40),o=n(7),i=n(16),u=n(83),l={users:[],pageSize:10,totalUserCount:0,currentPage:1,isFetching:!1,isUserInArray:!1,followingInProgress:[],selectedUser:{},filter:{term:"",friend:null}},d={followActionCreator:function(e){return{type:"follow",userId:e}},unFollowActionCreator:function(e){return{type:"unFollow",userId:e}},setUserActionCreator:function(e){return{type:"setUsers",users:e}},setPageCreator:function(e){return{type:"setPage",currentPage:e}},setUsersCountCreator:function(e){return{type:"userCount",usersCount:e}},toggleIsFetchingCreator:function(e){return{type:"users/toggleIsFetching",isFetching:e}},setFilter:function(e){return{type:"users/SET_FILTER",payload:e}},followingInProgressActionCreator:function(e,t){return{type:"followingInProgress",isFetching:e,actionId:t}},setPageSize:function(e){return{type:"users/SET_PAGE_SIZE",payload:e}},isUserInArray:function(e){return{type:"users/IS_USER_IN_ARRAY",payload:e}},getUserById:function(e){return{type:"users/GET_USER_BY_ID",payload:e}}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{term:"",friend:!0},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(){var s=Object(c.a)(a.a.mark((function c(s){var o;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s(d.toggleIsFetchingCreator(!0)),0===e&&(e=1),r||(s(d.setPageCreator(e)),s(d.setFilter(n)),s(d.setPageSize(t))),a.next=5,u.a.getUsers({currentPage:e,pageSize:t,term:n.term,friend:n.friend});case 5:o=a.sent,s(d.setUserActionCreator(o.items)),s(d.setUsersCountCreator(o.totalCount)),s(d.toggleIsFetchingCreator(!1));case 9:case"end":return a.stop()}}),c)})));return function(e){return s.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(d.followingInProgressActionCreator(!0,e)),t.next=3,u.a.follow(e);case 3:t.sent.resultCode===i.a.Success&&n(d.followActionCreator(e)),n(d.followingInProgressActionCreator(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(d.followingInProgressActionCreator(!0,e)),t.next=3,u.a.unFollow(e);case 3:t.sent.resultCode===i.a.Success&&n(d.unFollowActionCreator(e)),n(d.followingInProgressActionCreator(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"follow":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case"users/SET_FILTER":return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});case"unFollow":return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case"setUsers":return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case"setPage":return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case"userCount":return Object(o.a)(Object(o.a)({},e),{},{totalUserCount:t.usersCount});case"users/toggleIsFetching":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});case"followingInProgress":return Object(o.a)(Object(o.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(s.a)(e.followingInProgress),[t.actionId]):Object(s.a)(e.followingInProgress).filter((function(e){return e!==t.actionId}))});case"users/SET_PAGE_SIZE":return Object(o.a)(Object(o.a)({},e),{},{pageSize:t.payload});case"users/IS_USER_IN_ARRAY":return Object(o.a)(Object(o.a)({},e),{},{isUserInArray:!!e.users.filter((function(e){return e.id===t.payload})).length});case"users/GET_USER_BY_ID":return Object(o.a)(Object(o.a)({},e),{},{selectedUser:e.users.filter((function(e){return e.id===t.payload}))[0]});default:return e}}},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return T})),n.d(t,"d",(function(){return M})),n.d(t,"b",(function(){return F}));var r=n(15),a=n.n(r),c=n(28),s=n(40),o=n(7),i={messageReceived:[],isFetchingChanged:[],cleanMessages:[]},u=null,l=function(){console.log("close"),f(!1),setTimeout(b,3e3)},d=function(e){var t=JSON.parse(e.data);i.messageReceived.forEach((function(e){return e(t)}))},f=function(e){i.isFetchingChanged.forEach((function(t){return t(e)}))},p=function(){var e,t,n,r;null===(e=u)||void 0===e||e.removeEventListener("close",l),null===(t=u)||void 0===t||t.removeEventListener("message",d),null===(n=u)||void 0===n||n.removeEventListener("open",g),null===(r=u)||void 0===r||r.removeEventListener("error",j)},g=function(){i.cleanMessages.forEach((function(e){return e()})),f(!0)},j=function(){console.log(!0),f(!1)};function b(){var e;p(),null===(e=u)||void 0===e||e.close(),u=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),f(!1),u.addEventListener("close",l),u.addEventListener("message",d),u.addEventListener("open",g),u.addEventListener("error",j)}var h=function(e,t){return i[e].push(t),function(){i[e]=i[e].filter((function(e){return e!==t}))}},O=function(e){var t;null===(t=u)||void 0===t||t.send(e)},m=function(e,t){i[e]=i[e].filter((function(e){return e!==t}))},v=function(){b()},_=function(){var e;p(),null===(e=u)||void 0===e||e.close(),i.messageReceived=[],i.isFetchingChanged=[]},y=n(1944),S={messages:[],isFetching:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CHAT/MESSAGES_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{messages:[].concat(Object(s.a)(e.messages),Object(s.a)(t.payload.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{id:Object(y.a)()})}))))});case"SN/CHAT/SET_IS_FETCHING":return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.payload});case"SN/CHAT/CLEAN_MESSAGES":return Object(o.a)(Object(o.a)({},e),{},{messages:[]});default:return e}},x=function(e){return{type:"SN/CHAT/MESSAGES_RECEIVED",payload:e}},I=function(e){return{type:"SN/CHAT/SET_IS_FETCHING",payload:e}},w=function(){return{type:"SN/CHAT/CLEAN_MESSAGES"}},C=null,D=null,A=null,N=function(e){return null==C&&(C=function(t){e(x(t))}),C},P=function(e){return null==A&&(A=function(){e(w())}),A},L=function(e){return null==D&&(D=function(t){e(I(t))}),D},T=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(),h("messageReceived",N(t)),h("isFetchingChanged",L(t)),h("cleanMessages",P(t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},M=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m("messageReceived",N(t)),m("isFetchingChanged",L(t)),_();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:O(e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return g})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return p}));var r,a=n(197),c=n.n(a),s=n(10),o=n(19),i=n(83),u=new s.d({name:"Response",fields:function(){return{id:{type:o.b},name:{type:o.d},status:{type:o.d,resolve:function(e){return e.status}},photos:{type:o.d},followed:{type:o.a,resolve:function(e){return e.followed}}}}}),l=new s.d({name:"Query",fields:{movie:{type:u,args:{currentPage:{type:o.c},pageSize:{type:o.c}},resolve:function(e,t){var n=t.currentPage,r=t.pageSize;return i.a.getUsers({currentPage:n,pageSize:r})}}}}),d=n(1942);r=localStorage.getItem("key")&&localStorage.getItem("key")!==JSON.parse(JSON.stringify("null"))&&localStorage.getItem("key")!==JSON.parse(JSON.stringify(" ").trim())?JSON.parse(localStorage.getItem("key")):prompt("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 apiKey.\u041e\u043d \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u0432 localStorage"),localStorage.setItem("key",JSON.stringify(r));var f,p,g=c.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":r||"b774922c-f2cb-4b3b-9d16-f5fab39a2bed"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(f||(f={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(p||(p={}));new d.a({query:l})},1936:function(e,t,n){},1937:function(e,t,n){"use strict";n.r(t);var r=function(e){e&&e instanceof Function&&n.e(11).then(n.bind(null,1996)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},a=n(46),c=n.n(a),s=(n(247),n(0)),o=n.n(s),i=n(158),u=n(159),l=n(192),d=n(190),f=n(142),p=n.n(f),g=n(9),j=function(){return Object(g.jsx)("div",{className:p.a.dialogsWrapper,children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:p.a.dialogs__content,children:Object(g.jsx)("h1",{children:"News"})})})})},b=n(143),h=n.n(b),O=function(){return Object(g.jsx)("div",{className:h.a.dialogsWrapper,children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:h.a.dialogs__content,children:Object(g.jsx)("h1",{children:"Setting"})})})})},m=n(144),v=n.n(m),_=function(){return Object(g.jsx)("div",{className:v.a.dialogsWrapper,children:Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:v.a.dialogs__content,children:Object(g.jsx)("h1",{children:"Music"})})})})},y=n(36),S=n(71),E=n(51),x=n(15),I=n.n(x),w=n(28),C=n(7),D=n(16),A=function(){return D.c.get("auth/me").then((function(e){return e.data}))},N=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return D.c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},P=function(){return localStorage.setItem("key",""),D.c.delete("auth/login").then((function(e){return e.data}))},L=function(){return D.c.get("security/get-captcha-url").then((function(e){return e.data}))},T={id:null,email:null,login:null,isAuth:!1,captchaUrl:null,error:null,loginData:null},M=function(e,t,n,r){return{type:"auth/setUserData",data:{id:e,login:t,email:n,isAuth:r}}},F=function(e){return{type:"auth/setCaptchaURL",captchaUrl:e}},G=function(e){return{type:"auth/SET_ERROR",payload:e}},k=function(){return function(){var e=Object(w.a)(I.a.mark((function e(t){var n,r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:(n=e.sent).resultCode===D.a.Success&&(r=n.data,t(M(r.id,r.login,r.email,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var e=Object(w.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:n=e.sent,t(F(n.url));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"auth/setUserData":return Object(C.a)(Object(C.a)({},e),{},{email:t.data.email,login:t.data.login,isAuth:t.data.isAuth,id:t.data.id,loginData:t.data});case"auth/setCaptchaURL":return Object(C.a)(Object(C.a)({},e),{},{captchaUrl:t.captchaUrl});case"auth/SET_ERROR":return Object(C.a)(Object(C.a)({},e),{},{error:t.payload});default:return e}},z=n(72),H=n(1941),W=n(1943),q=n(1945),J=n(180),V=function(){var e=Object(E.d)(z.b),t=Object(E.d)(z.d),n=Object(E.d)(z.a),r=Object(E.c)();return t?Object(g.jsx)(y.a,{to:"/profile"}):Object(g.jsx)("div",{style:{maxWidth:"700px",margin:"0 auto",padding:"0 10px"},children:Object(g.jsxs)(H.a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:function(e){var t,n,a,c;console.log(e),r((t=e.login,n=e.password,a=e.rememberMe,c=e.captcha,function(){var e=Object(w.a)(I.a.mark((function e(r){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(t,n,a,c).then((function(e){if(e.resultCode===D.a.Success)r(k());else{e.resultCode===D.b.CaptchaIsRequired&&r(R());var t=e.messages.length>0?e.messages[0]:"Some error";r(G(t))}}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onFinishFailed:function(e){console.log("Failed:",e)},children:[Object(g.jsx)(H.a.Item,{hasFeedback:!0,label:"Username",name:"login",rules:[{required:!0,message:"Please input your username!"}],children:Object(g.jsx)(W.a,{})}),Object(g.jsx)(H.a.Item,{hasFeedback:!0,label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(g.jsx)(W.a.Password,{})}),Object(g.jsx)(H.a.Item,{name:"rememberMe",valuePropName:"checked",wrapperCol:{offset:8,span:16},children:Object(g.jsx)(q.a,{children:"Remember me"})}),Object(g.jsx)(H.a.Item,{hasFeedback:!0,wrapperCol:{offset:8,span:16},children:Object(g.jsx)(J.a,{type:"primary",htmlType:"submit",children:"Submit"})}),n&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("img",{style:{marginBottom:"10px"},src:n,alt:"captcha"}),Object(g.jsx)(H.a.Item,{label:"captcha",rules:[{required:!0,message:"Please input symbols from image"}],name:"captcha",children:Object(g.jsx)(W.a,{})})]}),e&&Object(g.jsx)("div",{style:{width:"100%",height:"70px",background:"darkred",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(g.jsx)("h3",{style:{margin:0,color:"#ddd",fontWeight:700,textIndent:"4px"},children:e})})]})})},B=n(74),K=(n(181),n(150)),Y=n(98),Z=n(155),X=n(189),Q=n(201),$={initialized:!1},ee=function(){return{type:"SN/App/initialized"}},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/App/initialized":return Object(C.a)(Object(C.a)({},e),{},{initialized:!0});default:return e}},ne=n(157),re=Object(B.b)({profilePage:K.a,messagePage:Y.c,users:Z.a,auth:U,form:X.a,app:te,chat:ne.a}),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.c,ce=Object(B.d)(re,ae(Object(B.a)(Q.a)));window.store=ce;var se=ce,oe=n(151);function ie(e){return function(t){return Object(g.jsx)(s.Suspense,{fallback:Object(g.jsx)("div",{children:Object(g.jsx)(oe.a,{fontSize:50})}),children:Object(g.jsx)(e,Object(C.a)({},t))})}}n(208);var ue=n(1940),le=n(130),de=n(1946),fe=n(62),pe=n(70),ge=n.n(pe),je=function(){var e=Object(E.c)(),t=Object(E.d)(z.d),n=Object(E.d)(z.e),r=Object(s.useState)(!1),a=Object(le.a)(r,2),c=a[0],o=a[1],i=Object(s.useState)("horizontal"),u=Object(le.a)(i,2),l=u[0],d=u[1],f=Object(y.h)().pathname;Object(s.useEffect)((function(){e(k())}),[]);var p=function(){window.matchMedia("(max-width: 767px)").matches?d("vertical"):d("horizontal")};Object(s.useEffect)((function(){p()}),[]),window.addEventListener("resize",(function(){return p()}));var j=f.split("/");return 3===j.length&&"dialogs"===j[1]&&"vertical"===l?Object(g.jsx)(g.Fragment,{}):Object(g.jsx)(fe.c,{style:{padding:"0"},className:"".concat(ge.a.header," ").concat(c?ge.a.active:""),children:Object(g.jsxs)("div",{className:ge.a.container,children:[Object(g.jsxs)("div",{className:ge.a.container__menu,children:[Object(g.jsx)(de.a,{className:"".concat(ge.a.menu," "),theme:"dark",defaultSelectedKeys:["/"===f?"/profile":f],mode:l,children:[{path:"/profile",body:"Profile"},{path:"/dialogs",body:"Dialogs"},{path:"/users",body:"Users"},{path:"/chat",body:"Chat"}].map((function(e){return Object(g.jsx)(de.a.Item,{children:Object(g.jsx)(S.c,{onClick:function(){return"vertical"===l&&o(!1)},to:e.path,children:e.body})},e.path)}))}),Object(g.jsx)("div",{onClick:function(){return o((function(e){return!e}))},className:ge.a.burger,children:Object(g.jsx)("span",{children:" "})})]}),Object(g.jsx)("div",{className:ge.a.auth,children:t?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(S.c,{to:"/profile",style:{color:"#fff",fontSize:"18px",marginRight:"20px"},children:n}),Object(g.jsx)(J.a,{onClick:function(){e(function(){var e=Object(w.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:0===e.sent.resultCode&&t(M(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"LogOut"})]}):Object(g.jsx)(S.c,{to:"/login",children:"Login"})})]})})},be=(n(1936),function(){return Object(g.jsx)("div",{className:"preloader",children:Object(g.jsx)("div",{className:"preloader__body",children:Object(g.jsxs)("div",{className:"preloader__content",children:[Object(g.jsx)("img",{src:"https://fiverr-res.cloudinary.com/images/t_main1,q_auto,f_auto,q_auto,f_auto/attachments/delivery/asset/c49c83ef51b0c4230f8f39560b8250a3-1596267998/navy_for-light_bg/make-animated-logo-loader-for-your-website.gif",alt:"preloader",className:"preloader__image"}),Object(g.jsx)("p",{className:"preloader__text",children:"Loading..."})]})})})}),he=ue.a.Content,Oe=ue.a.Footer,me=o.a.lazy((function(){return Promise.all([n.e(5),n.e(8)]).then(n.bind(null,2001))})),ve=o.a.lazy((function(){return Promise.all([n.e(3),n.e(7)]).then(n.bind(null,2002))})),_e=o.a.lazy((function(){return Promise.all([n.e(4),n.e(9)]).then(n.bind(null,2003))})),ye=o.a.lazy((function(){return Promise.all([n.e(6),n.e(10)]).then(n.bind(null,2004))})),Se=ie(me),Ee=ie(ve),xe=ie(_e),Ie=ie(ye),we=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).catchAllUnHandleErrors=function(e){},r.state={isMobileMenuOpen:!1},r}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializingApp(),window.addEventListener("unhandledrejection",this.catchAllUnHandleErrors),this.props.getNewMessages()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnHandleErrors)}},{key:"render",value:function(){return this.props.initialized?Object(g.jsxs)(ue.a,{className:"wrapper",children:[Object(g.jsx)(je,{}),Object(g.jsx)(he,{className:"wrapper__main",children:Object(g.jsx)(ue.a,{className:"site-layout-background",style:{padding:"24px 0"},children:Object(g.jsx)(he,{style:{minHeight:280},children:Object(g.jsxs)(y.d,{children:[Object(g.jsx)(y.b,{exact:!0,path:"/",render:function(){return Object(g.jsx)(y.a,{to:"/profile"})}}),Object(g.jsx)(y.b,{path:"/dialogs/:userId?",render:function(){return Object(g.jsx)(Se,{})}}),Object(g.jsx)(y.b,{exact:!0,path:"/news",component:j}),Object(g.jsx)(y.b,{exact:!0,path:"/setting",component:O}),Object(g.jsx)(y.b,{exact:!0,path:"/music",component:_}),Object(g.jsx)(y.b,{path:"/profile/:userId?",render:function(){return Object(g.jsx)(Ee,{})}}),Object(g.jsx)(y.b,{exact:!0,path:"/users",render:function(){return Object(g.jsx)(xe,{})}}),Object(g.jsx)(y.b,{exact:!0,path:"/login",render:function(){return Object(g.jsx)(V,{})}}),Object(g.jsx)(y.b,{exact:!0,path:"/chat",render:function(){return Object(g.jsx)(Ie,{})}}),Object(g.jsx)(y.b,{exact:!0,path:"*",render:function(){return Object(g.jsx)("h1",{children:"404 NOT FOUND"})}})]})})})}),Object(g.jsx)(Oe,{style:{backgroundColor:"#2e2e2e",textAlign:"center",height:"70px",fontSize:"20px",color:"#fff"},children:Object(g.jsxs)("p",{children:["Created by ",Object(g.jsx)("a",{style:{fontSize:"25px"},href:"https://www.instagram.com/html_css_js_react/",children:"vanaf"})]})})]}):Object(g.jsx)(be,{})}}]),n}(o.a.Component),Ce=Object(B.c)(y.j,Object(E.b)((function(e){return{newMessagesCount:e.messagePage.newMessagesCount,initialized:e.app.initialized}}),{getNewMessages:Y.h,initializingApp:function(){return function(){var e=Object(w.a)(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t(k()),Promise.all([n]).then((function(){t(ee())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}))(we),De=function(){return Object(g.jsx)(S.a,{children:Object(g.jsx)(E.a,{store:se,children:Object(g.jsx)(Ce,{})})})};c.a.render(Object(g.jsx)(De,{}),document.getElementById("root")),r()},208:function(e,t,n){},247:function(e,t,n){},70:function(e,t,n){e.exports={container:"Header_container__2Gwop",header:"Header_header__1XZp4",burger:"Header_burger__3W_g0",container__menu:"Header_container__menu__2GxHD",auth:"Header_auth__ZBaVC",menu:"Header_menu__MNVNj",active:"Header_active__1Cms8"}},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"b",(function(){return o}));var r=function(e){return e.auth.captchaUrl},a=function(e){return e.auth.isAuth},c=function(e){return e.auth.id},s=function(e){return e.auth.login},o=function(e){return e.auth.error}},83:function(e,t,n){"use strict";var r=n(16);t.a={getUsers:function(e){var t=e.currentPage,n=e.pageSize,a=e.friend,c=e.term;return r.c.get("users?page=".concat(t,"\n        &count=").concat(n,"\n        &term=").concat(c).concat(null==a?"":"&friend=".concat(a))).then((function(e){return e.data}))},follow:function(e){return r.c.post("follow/".concat(e)).then((function(e){return e.data}))},unFollow:function(e){return r.c.delete("follow/".concat(e)).then((function(e){return e.data}))}}},98:function(e,t,n){"use strict";n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"i",(function(){return y})),n.d(t,"a",(function(){return S})),n.d(t,"d",(function(){return E})),n.d(t,"h",(function(){return x}));var r=n(15),a=n.n(r),c=n(28),s=n(40),o=n(7),i=n(16),u=function(e){return i.c.put("dialogs/".concat(e)).then((function(e){return e.data}))},l=function(){return i.c.get("dialogs").then((function(e){return e.data}))},d=function(e,t,n){return i.c.get("dialogs/".concat(e,"/messages?count=").concat(n,"&page=").concat(t)).then((function(e){return e.data}))},f=function(e,t){return i.c.post("dialogs/".concat(e,"/messages"),{body:t}).then((function(e){return e.data}))},p=function(e){return i.c.post("dialogs/messages/".concat(e,"/spam")).then((function(e){return e.data}))},g=function(e){return i.c.delete("dialogs/messages/".concat(e)).then((function(e){return e.data}))},j=function(){return i.c.get("dialogs/messages/new/count").then((function(e){return e.data}))},b={personFriendData:[],messagesData:[],dialogs:[],selectedDialog:{items:[],error:null,totalCount:0},isFetchingDialogs:!1,isFetchingDialog:!1,isMessageSending:!1,deletingMessagesInProgress:[],newMessagesCount:0,currentMessagePage:0,gettingMessageCount:20,isDialogsReceived:!1},h={PostMessage:function(e){return{type:"dialogs/ADD_MESSAGE",payload:e}},postDialog:function(e){return{type:"dialogs/SET_DIALOG",payload:e}},setAllDialogs:function(e){return{type:"dialogs/SET_ALL_DIALOGS",payload:e}},getDialog:function(e){return{type:"dialogs/GET_MESSAGE_OF_DIALOG",payload:e}},deleteMessage:function(e){return{type:"dialogs/DELETE_MESSAGE",payload:e}},toggleIsFetchingDialog:function(e){return{type:"dialogs/TOGGLE_IS_FETCHING_DIALOG",payload:e}},toggleIsFetchingDialogs:function(e){return{type:"dialogs/TOGGLE_IS_FETCHING_DIALOGS",payload:e}},setNewMessagesCount:function(e){return{type:"dialogs/SET_NEW_MESSAGES",payload:e}},deletingInProgress:function(e,t){return{type:"dialogs/SET_DELETING_IN_PROGRESS",isFetching:e,messageId:t}},toggleMessageSending:function(e){return{type:"dialogs/TOGGLE_MESSAGE_SENDING",payload:e}},setIsDialogReceived:function(e){return{type:"dialogs/SET_DIALOG_RECEIVED",payload:e}},cleanSelectedDialog:function(){return{type:"dialogs/CLEAN_SELECTED_DIALOG"}},viewMessagesOnDialog:function(e){return{type:"dialogs/VIEW_MESSAGES_ON_DIALOG",payload:e}}},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(e);case 2:t.sent.resultCode===i.a.Success&&n(m());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(h.toggleIsFetchingDialogs(!1)),e.next=3,l();case 3:n=e.sent,t(h.setAllDialogs(n)),t(h.toggleIsFetchingDialogs(!0)),t(h.setIsDialogReceived(!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},v=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(h.toggleIsFetchingDialog(!1)),n.next=3,d(e,t,20);case 3:c=n.sent,r(h.getDialog(c)),r(h.toggleIsFetchingDialog(!0)),r(x()),r(h.viewMessagesOnDialog(e));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},_=null,y=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(h.toggleMessageSending(!0)),_!==e&&(_=e,r(O(e))),n.next=4,f(e,t);case 4:(c=n.sent).resultCode===i.a.Success&&r(h.PostMessage(c.data.message)),r(h.toggleMessageSending(!1));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},S=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return _!==e&&(_=e,r(O(e))),r(h.deletingInProgress(!0,t)),n.next=4,p(t);case 4:n.sent.resultCode===i.a.Success&&(r(h.deleteMessage(t)),r(h.deletingInProgress(!1,t)));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},E=function(e,t){return function(){var n=Object(c.a)(a.a.mark((function n(r){return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return _!==e&&(_=e,r(O(e))),r(h.deletingInProgress(!0,t)),n.next=4,g(t);case 4:n.sent.resultCode===i.a.Success&&(r(h.deleteMessage(t)),r(h.deletingInProgress(!1,t)));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},x=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:n=e.sent,t(h.setNewMessagesCount(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"dialogs/ADD_MESSAGE":return Object(o.a)(Object(o.a)({},e),{},{selectedDialog:Object(o.a)(Object(o.a)({},e.selectedDialog),{},{items:[].concat(Object(s.a)(e.selectedDialog.items),[t.payload])})});case"dialogs/SET_DIALOG":return Object(o.a)({},e);case"dialogs/SET_ALL_DIALOGS":return Object(o.a)(Object(o.a)({},e),{},{dialogs:Object(s.a)(t.payload)});case"dialogs/GET_MESSAGE_OF_DIALOG":return Object(o.a)(Object(o.a)({},e),{},{selectedDialog:Object(o.a)(Object(o.a)({},e.selectedDialog),{},{error:t.payload.error,totalCount:t.payload.totalCount,items:[].concat(Object(s.a)(t.payload.items),Object(s.a)(e.selectedDialog.items))})});case"dialogs/TOGGLE_IS_FETCHING_DIALOG":return Object(o.a)(Object(o.a)({},e),{},{isFetchingDialog:t.payload});case"dialogs/TOGGLE_IS_FETCHING_DIALOGS":return Object(o.a)(Object(o.a)({},e),{},{isFetchingDialogs:t.payload});case"dialogs/DELETE_MESSAGE":return Object(o.a)(Object(o.a)({},e),{},{selectedDialog:Object(o.a)(Object(o.a)({},e.selectedDialog),{},{items:e.selectedDialog.items.filter((function(e){return e.id!==t.payload}))})});case"dialogs/SET_NEW_MESSAGES":return Object(o.a)(Object(o.a)({},e),{},{newMessagesCount:t.payload});case"dialogs/SET_DELETING_IN_PROGRESS":return Object(o.a)(Object(o.a)({},e),{},{deletingMessagesInProgress:t.isFetching?[].concat(Object(s.a)(e.deletingMessagesInProgress),[t.messageId]):Object(s.a)(e.deletingMessagesInProgress).filter((function(e){return e!==t.messageId}))});case"dialogs/TOGGLE_MESSAGE_SENDING":return Object(o.a)(Object(o.a)({},e),{},{isMessageSending:t.payload});case"dialogs/SET_DIALOG_RECEIVED":return Object(o.a)(Object(o.a)({},e),{},{isDialogsReceived:t.payload});case"dialogs/CLEAN_SELECTED_DIALOG":return Object(o.a)(Object(o.a)({},e),{},{selectedDialog:{totalCount:0,error:null,items:[]}});case"dialogs/VIEW_MESSAGES_ON_DIALOG":return Object(o.a)(Object(o.a)({},e),{},{dialogs:e.dialogs.map((function(e){return e.id===t.payload?Object(o.a)(Object(o.a)({},e),{},{hasNewMessages:!1,newMessagesCount:0}):e}))});default:return e}}}},[[1937,1,2]]]);
//# sourceMappingURL=main.48f04cd2.chunk.js.map